!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("echarts/core"),require("vue-demi"),require("@vueblocks/vue-use-core")):"function"==typeof define&&define.amd?define(["echarts/core","vue-demi","@vueblocks/vue-use-core"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).VeChart=t(e.EchartsCore,e.VueDemi,e.VueUseCore)}(this,(function(e,t,o){"use strict";const n=e=>/^on[^a-z]/.test(e);const r=e=>{const o=t.computed((()=>function(e){const t={};for(const o in e)n(o)||(t[o]=e[o]);return t}(e))),r={};return Object.keys(e).filter((t=>n(t)&&"function"==typeof e[t])).forEach((t=>{const[,...o]=(n=t,n.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()).split("-");var n;const s=1===o.length?o.join(""):o.map(((e,t)=>t>0?e.charAt(0).toLocaleUpperCase()+e.slice(1):e)).join("");r[s]=e[t]})),{echartsAttrs:o,echartsEvents:r}};return t.defineComponent({name:"VeChart",inheritAttrs:!1,props:{option:Object,initOptions:Object,theme:[String,Object],setOptionOpts:Object,height:{type:Number,default:400},needUpdate:{type:Boolean,default:!1}},setup(n,{attrs:s}){const a=t.toRef(n,"option"),i=t.toRef(n,"theme"),u=t.toRef(n,"initOptions"),c=t.toRef(n,"setOptionOpts"),l=t.toRef(n,"needUpdate"),p=t.ref(),f=t.shallowRef(),v=t.ref({}),{echartsEvents:h}=r(s),d=()=>{f.value&&f.value.resize()},O=()=>{f.value&&(f.value.dispose(),f.value=void 0)},m=o=>{var r;p.value&&(f.value=e.init(p.value,n.theme,{renderer:"canvas"}),o&&f.value.setOption(o),r=f.value,Object.keys(h).forEach((e=>{const t=h[e];t&&(0===e.indexOf("zr:")?r.getZr().on(e.slice(3).toLowerCase(),t):r.on(e,t))})),t.nextTick(d))},b=(e,t)=>{f.value?f.value.setOption(e,t):m(e)};return o.useResizeObserver(p,(([e])=>{v.value=e.contentRect,d()})),t.watch(l,(e=>{e&&a.value&&(c.value?b(a.value,c.value):b(a.value))}),{deep:!0}),t.watch([i,u],(()=>{O(),m()}),{deep:!0}),t.onMounted((()=>{a.value&&m(a.value)})),t.onUnmounted(O),{echartsRef:p,echartsInstance:f,setOption:b}},render(e){const o={width:"auto",height:`${e.height}px`};return t.h("div",{ref:"echartsRef",style:o})}})}));
